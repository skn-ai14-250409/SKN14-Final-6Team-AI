<!DOCTYPE html>
<html lang="ko">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qook ì±—ë´‡ - Qook</title>
    <link href="https://cdn.jsdelivr.net/npm/tailwindcss@2.2.19/dist/tailwind.min.css" rel="stylesheet">
    <link href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css" rel="stylesheet">
    <link href="/static/css/chat.css" rel="stylesheet">
    <link href="/static/css/navigation.css" rel="stylesheet">
</head>
<body class="bg-gray-50 font-sans">
    <!-- í—¤ë” -->
    <header class="bg-white shadow-sm">
    <div class="max-w-7xl mx-auto px-4 sm:px-6 lg:px-8">
        <div class="flex justify-between items-center py-6">
        
        <!-- ì™¼ìª½: ë¡œê³  -->
        <div class="flex items-center">
            <a href="/" class="flex items-center">
            <img src="{{ url_for('static', path='/images/qook_logo.png') }}" alt="Qook ë¡œê³ " class="h-10 w-auto" loading="lazy">
            <span class="text-3xl font-bold text-green-600 leading-none">Qook</span>
            </a>
        </div>
        
        <!-- ì¤‘ì•™: ì±—ë´‡ / ë§ˆì´í˜ì´ì§€ ë²„íŠ¼ -->
        <div class="flex items-center space-x-2">
            <button id="navChatbot" class="nav-btn active px-4 py-2 bg-green-600 bg-opacity-20 text-green-600 rounded-lg font-medium transition duration-300 border-2 border-green-600">
            <i class="fas fa-robot mr-2"></i>ì±—ë´‡
            </button>
            <button id="navMypage" class="nav-btn px-4 py-2 bg-green-600 text-white rounded-lg font-medium transition duration-300 hover:bg-green-700" onclick="navigateToPage('/mypage')">
            <i class="fas fa-user mr-2"></i>ë§ˆì´í˜ì´ì§€
            </button>
        </div>

        <!-- ì˜¤ë¥¸ìª½: ë¡œê·¸ì•„ì›ƒ -->
        <div>
            <button onclick="logout()" class="text-gray-600 hover:text-red-600 px-3 py-2 rounded-md text-sm font-medium">
            ë¡œê·¸ì•„ì›ƒ
            </button>
        </div>
        </div>
    </div>
    </header>

    <!-- ë©”ì¸ ì»¨í…ì¸ : 3ì»¬ëŸ¼ ë ˆì´ì•„ì›ƒ -->
    <div class="min-h-screen bg-gray-50">
        <div class="max-w-full mx-auto">
            <div class="chat-layout flex">
                <!-- ì¢Œì¸¡: ë ˆì‹œí”¼/ì¦ê²¨ì°¾ê¸° íŒ¨ë„ -->
                <div class="left-panel">
                    <!-- íƒ­ ë²„íŠ¼ -->
                    <div class="panel-tabs">
                        <button id="recipeTab" class="tab-btn active" data-tab="recipes">
                            <i class="fas fa-utensils mr-2"></i>ë ˆì‹œí”¼
                        </button>
                        <button id="favoriteTab" class="tab-btn" data-tab="favorites">
                            <i class="fas fa-star mr-2"></i>ì¦ê²¨ì°¾ê¸°
                        </button>
                    </div>

                    <!-- ë ˆì‹œí”¼ ì„¹ì…˜ -->
                    <div id="recipesSection" class="panel-content active">
                        <h3 class="text-lg font-semibold mb-4 text-gray-800">
                            <i class="fas fa-utensils mr-2 text-green-500"></i>ë ˆì‹œí”¼
                        </h3>
                        <div id="recipesList">
                            <!-- ë ˆì‹œí”¼ ì¹´ë“œë“¤ì´ ë™ì ìœ¼ë¡œ ë Œë”ë§ë©ë‹ˆë‹¤ -->
                            <div class="empty-state">
                                <i class="fas fa-utensils text-gray-300 text-4xl mb-4"></i>
                                <p class="text-gray-500">ë ˆì‹œí”¼ë¥¼ ê²€ìƒ‰í•´ë³´ì„¸ìš”</p>
                            </div>
                        </div>
                    </div>

                    <!-- ì¦ê²¨ì°¾ê¸° ì„¹ì…˜ -->
                    <div id="favoritesSection" class="panel-content">
                        <h3 class="text-lg font-semibold mb-4 text-gray-800">
                            <i class="fas fa-star mr-2 text-green-500"></i>ì¦ê²¨ì°¾ê¸°
                        </h3>
                        <div class="empty-state">
                            <i class="fas fa-star text-gray-300 text-4xl mb-4"></i>
                            <p class="text-gray-500">ì €ì¥ëœ ë ˆì‹œí”¼ê°€ ì—†ìŠµë‹ˆë‹¤</p>
                        </div>
                    </div>
                </div>

                <!-- ì¤‘ì•™: ì±—ë´‡ ì˜ì—­ -->
                <div class="center-panel">
                    <div class="chat-container" id="chatContainer">
                        <!-- ì‚¬ìš©ì ì´ë¦„ -->
                        <div class="chat-header">
                            <h2 class="text-2xl font-bold text-gray-800">{{ name }} ë‹˜</h2>
                            <div class="flex items-center space-x-4 mt-2">
                                <div id="sessionInfo" class="text-xs text-gray-500"></div>
                                <button id="clearChat" class="text-xs text-red-500 hover:underline">
                                    <i class="fas fa-trash mr-1"></i>ì±„íŒ… ì§€ìš°ê¸°
                                </button>
                            </div>
                        </div>

                        <!-- ì±„íŒ…ì°½ -->
                        <div class="chat-messages" id="messages">
                            <!-- ì´ˆê¸° ë´‡ ë©”ì‹œì§€ -->
                            <div class="mb-4 message-animation">
                                <div class="flex items-start">
                                    <div class="w-8 h-8 bg-green-100 rounded-full flex items-center justify-center mr-3 flex-shrink-0">
                                        <i class="fas fa-robot text-green-600 text-sm"></i>
                                    </div>
                                    <div class="message-bubble-bot">
                                        ì•ˆë…•í•˜ì„¸ìš”! Qook ì±—ë´‡ì…ë‹ˆë‹¤. ì–´ë–¤ ë ˆì‹œí”¼ë¥¼ ì°¾ê³  ê³„ì‹ ê°€ìš”?
                                    </div>
                                </div>
                            </div>

                        </div>

                        <!-- ë¹ ë¥¸ ì•¡ì…˜ ë²„íŠ¼ë“¤ -->
                        <div class="quick-actions px-5 py-2 border-t border-gray-100">
                            <div class="flex flex-wrap gap-2">
                                <button class="quick-action px-3 py-1 bg-green-100 text-green-700 rounded-full text-xs hover:bg-green-200 transition" data-message="ì¸ê¸° ìƒí’ˆ ì¶”ì²œí•´ì¤˜">
                                    ğŸ”¥ ì¸ê¸° ìƒí’ˆ
                                </button>
                                <button class="quick-action px-3 py-1 bg-yellow-100 text-yellow-700 rounded-full text-xs hover:bg-yellow-200 transition" data-message="ì˜¤ëŠ˜ ì €ë… ë©”ë‰´ ì¶”ì²œí•´ì¤˜">
                                    ğŸ½ï¸ ì €ë… ë©”ë‰´
                                </button>
                                <button class="quick-action px-3 py-1 bg-blue-100 text-blue-700 rounded-full text-xs hover:bg-blue-200 transition" data-message="ì¥ë°”êµ¬ë‹ˆ ë³´ì—¬ì£¼ì„¸ìš”">
                                    ğŸ›’ ì¥ë°”êµ¬ë‹ˆ
                                </button>
                                <button class="quick-action px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-xs hover:bg-purple-200 transition" data-message="ìœ ê¸°ë† ì•¼ì±„ ì¶”ì²œí•´ì¤˜">
                                    ğŸ¥¬ ìœ ê¸°ë†
                                </button>
                            </div>
                        </div>

                        <!-- ì…ë ¥ì°½ -->
                        <form id="chatForm" class="chat-input">
                            <button type="button" class="input-btn" title="ìƒë‹´ì‚¬ ì—°ê²°">
                                <i class="fas fa-headset"></i>
                            </button>
                            <input type="text" id="messageInput" placeholder="ë©”ì‹œì§€ë¥¼ ì…ë ¥í•˜ì„¸ìš”..." class="message-input">
                            <div class="input-buttons">
                                <button type="button" id="voiceCancel" class="input-btn hidden" title="ìŒì„± ì·¨ì†Œ">
                                    <i class="fas fa-times"></i>
                                </button>
                                <button type="button" id="voiceInput" class="input-btn" title="ìŒì„± ì…ë ¥">
                                    <i class="fas fa-microphone"></i>
                                </button>
                                <button type="submit" class="input-btn primary" title="ì „ì†¡">
                                    <i class="fas fa-paper-plane"></i>
                                </button>
                            </div>
                        </form>
                        
                        <!-- ìˆ¨ê²¨ì§„ íŒŒì¼ ì…ë ¥ -->
                        <input type="file" id="imageInput" accept="image/*" style="display: none;">
                    </div>
                </div>

                <!-- ìš°ì¸¡: ìƒí’ˆ/ì¥ë°”êµ¬ë‹ˆ íŒ¨ë„ -->
                <div class="right-panel">
                    <!-- íƒ­ ë²„íŠ¼ -->
                    <div class="panel-tabs">
                        <button id="productTab" class="tab-btn active" data-tab="products">
                            <i class="fas fa-shopping-bag mr-2"></i>ìƒí’ˆ
                        </button>
                        <button id="cartTab" class="tab-btn" data-tab="cart">
                            <i class="fas fa-shopping-cart mr-2"></i>ì¥ë°”êµ¬ë‹ˆ
                        </button>
                    </div>

                    <!-- ìƒí’ˆ ì„¹ì…˜ -->
                    <div id="productsSection" class="panel-content active hidden">
                        <h3 class="text-lg font-semibold mb-4 text-gray-800">
                            <i class="fas fa-shopping-bag mr-2 text-green-500"></i>ì¶”ì²œ ìƒí’ˆ
                        </h3>
                        <div id="productsList">
                            <!-- ìƒí’ˆ ì¹´ë“œë“¤ì´ ë™ì ìœ¼ë¡œ ë Œë”ë§ë©ë‹ˆë‹¤ -->
                            <div class="empty-state">
                                <i class="fas fa-shopping-bag text-gray-300 text-4xl mb-4"></i>
                                <p class="text-gray-500">ìƒí’ˆì„ ê²€ìƒ‰í•´ë³´ì„¸ìš”</p>
                            </div>
                        </div>
                    </div>

                    <!-- ì¥ë°”êµ¬ë‹ˆ ì„¹ì…˜ -->
                    <div id="cartSection" class="panel-content">
                        <h3 class="text-lg font-semibold mb-4 text-gray-800">
                            <i class="fas fa-shopping-cart mr-2 text-green-500"></i>ì¥ë°”êµ¬ë‹ˆ
                            <span id="cartCount" class="ml-2 px-2 py-1 bg-green-100 text-green-600 rounded-full text-sm">0</span>
                        </h3>
                        
                        <div id="cartItems">
                            <!-- ì¥ë°”êµ¬ë‹ˆ ì•„ì´í…œë“¤ì´ ë™ì ìœ¼ë¡œ ë Œë”ë§ë©ë‹ˆë‹¤ -->
                            <div class="cart-empty p-4 text-center text-gray-500">
                                ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.
                            </div>
                        </div>

                        <div class="cart-summary mt-4 pt-4 border-t border-gray-200">
                            <div class="summary-row">
                                <span>ìƒí’ˆê¸ˆì•¡</span>
                                <span id="subtotalAmount">0ì›</span>
                            </div>
                            <div class="summary-row">
                                <span>í• ì¸ê¸ˆì•¡</span>
                                <span id="discountAmount" class="text-red-500">- 0ì›</span>
                            </div>
                            <div class="summary-row">
                                <span>ë°°ì†¡ë¹„</span>
                                <span id="shippingFee" class="text-purple-500">3,000ì›</span>
                            </div>
                            <div class="summary-row total">
                                <span>ì´ ê²°ì œê¸ˆì•¡</span>
                                <span id="totalAmount">0ì›</span>
                            </div>
                            <button id="checkoutButton" class="checkout-btn hidden">ê²°ì œí•˜ê¸°</button>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <!-- ì£¼ë¬¸ ì •ë³´ ì„¹ì…˜ (ìˆ¨ê²¨ì§„ ìƒíƒœ) -->
    <div id="orderSection" class="hidden">
        <div id="orderInfo"></div>
    </div>

    <!-- JavaScript -->
    <script src="/static/js/navigation.js"></script>
    <script src="/static/js/chat_ver2.js"></script>
    
    <!-- íƒ­ ê¸°ëŠ¥ ì¶”ê°€ -->
    <script>
        // íƒ­ ì „í™˜ ê¸°ëŠ¥
        function initializeTabs() {
            // ì¢Œì¸¡ íŒ¨ë„ íƒ­ (ë ˆì‹œí”¼/ì¦ê²¨ì°¾ê¸°)
            const leftTabs = document.querySelectorAll('.left-panel .tab-btn');
            const leftContents = document.querySelectorAll('.left-panel .panel-content');
            
            leftTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const targetTab = tab.dataset.tab;
                    
                    // íƒ­ ë²„íŠ¼ í™œì„±í™” ìƒíƒœ ë³€ê²½
                    leftTabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    // ì½˜í…ì¸  í‘œì‹œ/ìˆ¨ê¹€
                    leftContents.forEach(content => {
                        if (content.id === targetTab + 'Section') {
                            content.classList.add('active');
                        } else {
                            content.classList.remove('active');
                        }
                    });
                });
            });
            
            // ìš°ì¸¡ íŒ¨ë„ íƒ­ (ìƒí’ˆ/ì¥ë°”êµ¬ë‹ˆ)
            const rightTabs = document.querySelectorAll('.right-panel .tab-btn');
            const rightContents = document.querySelectorAll('.right-panel .panel-content');
            
            rightTabs.forEach(tab => {
                tab.addEventListener('click', () => {
                    const targetTab = tab.dataset.tab;
                    
                    // íƒ­ ë²„íŠ¼ í™œì„±í™” ìƒíƒœ ë³€ê²½
                    rightTabs.forEach(t => t.classList.remove('active'));
                    tab.classList.add('active');
                    
                    // ì½˜í…ì¸  í‘œì‹œ/ìˆ¨ê¹€
                    rightContents.forEach(content => {
                        if (content.id === targetTab + 'Section') {
                            content.classList.add('active');
                        } else {
                            content.classList.remove('active');
                        }
                    });
                });
            });
        }

        // ì¦ê²¨ì°¾ê¸° í† ê¸€ ê¸°ëŠ¥
        function toggleFavorite(button) {
            const icon = button.querySelector('i');
            if (icon.classList.contains('text-gray-300')) {
                icon.classList.remove('text-gray-300');
                icon.classList.add('text-yellow-400');
            } else {
                icon.classList.remove('text-yellow-400');
                icon.classList.add('text-gray-300');
            }
        }

        // ê°€ìƒ ë°ì´í„°ë¡œ ì¹´ë“œ ë Œë”ë§ í…ŒìŠ¤íŠ¸ (ê°œë°œìš©)
        function loadSampleData() {
            // ìƒ˜í”Œ ë ˆì‹œí”¼ ë°ì´í„°
         

            // ë ˆì‹œí”¼ ì¹´ë“œ ë Œë”ë§
            // renderSampleRecipes(sampleRecipes);
            
            // ìƒí’ˆ ê²€ìƒ‰ ì‹œì—°ì„ ìœ„í•œ ë²„íŠ¼ ì´ë²¤íŠ¸
            document.querySelector('[data-message="ì¸ê¸° ìƒí’ˆ ì¶”ì²œí•´ì¤˜"]').addEventListener('click', () => {
                renderSampleProducts(sampleProducts);
            });
        }

        function renderSampleRecipes(recipes) {
            const recipesList = document.getElementById('recipesList');
            recipesList.innerHTML = '';

            recipes.forEach(recipe => {
                const card = document.createElement('div');
                card.className = 'recipe-card bg-white rounded-lg p-3 border hover:shadow-md transition cursor-pointer mb-2';
                card.innerHTML = `
                    <div class="recipe-card-body">
                        <h4 class="font-semibold text-gray-800 mb-2">${recipe.title}</h4>
                        <p class="text-gray-600 mb-2 text-xs">${recipe.description}</p>
                        <div class="flex items-center justify-between">
                            <div class="recipe-info flex gap-3 text-xs text-gray-500">
                                <span><i class="fas fa-clock mr-1"></i>${recipe.cooking_time}</span>
                                <span><i class="fas fa-user mr-1"></i>${recipe.servings}</span>
                            </div>
                            <button class="recipe-ingredients-btn bg-yellow-500 hover:bg-yellow-600 text-white px-3 py-1 rounded text-xs font-medium transition">
                                <i class="fas fa-shopping-basket mr-1"></i>ì¬ë£Œ ì¶”ì²œë°›ê¸°
                            </button>
                        </div>
                    </div>
                    <button class="favorite-btn absolute top-3 right-3" onclick="toggleFavorite(this)">
                        <i class="fas fa-star text-gray-300"></i>
                    </button>
                `;
                
                // ì¬ë£Œ ì¶”ì²œ ë²„íŠ¼ ì´ë²¤íŠ¸ - chat_ver2.jsì˜ ì‹¤ì œ ê¸°ëŠ¥ ì‚¬ìš©
                card.querySelector('.recipe-ingredients-btn').addEventListener('click', (e) => {
                    e.stopPropagation();
                    // ChatBot ì¸ìŠ¤í„´ìŠ¤ì˜ requestRecipeIngredients ë©”ì†Œë“œ í˜¸ì¶œ
                    if (window.chatbot && window.chatbot.requestRecipeIngredients) {
                        window.chatbot.requestRecipeIngredients(recipe);
                    }
                });
                
                recipesList.appendChild(card);
            });
        }

        function renderSampleProducts(products) {
            const productsSection = document.getElementById('productsSection');
            const productsList = document.getElementById('productsList');
            
            productsSection.classList.remove('hidden');
            productsList.innerHTML = '';

            products.forEach(product => {
                const card = document.createElement('div');
                card.className = 'product-card bg-white rounded-lg p-3 border hover:shadow-md transition mb-2';
                card.innerHTML = `
                    <div class="flex items-center justify-between">
                        <div class="flex-1">
                            <h4 class="font-medium text-sm text-gray-800">${product.name}</h4>
                            <p class="text-xs text-gray-500 mt-1">${product.origin}</p>
                            <div class="flex items-center mt-1">
                                <p class="text-green-600 font-bold text-sm">${product.price.toLocaleString()}ì›</p>
                                ${product.organic ? '<span class="ml-2 px-1 py-0.5 bg-green-100 text-green-700 text-xs rounded">ìœ ê¸°ë†</span>' : ''}
                            </div>
                        </div>
                        <button class="add-to-cart bg-green-100 text-green-600 px-2 py-1 rounded text-xs hover:bg-green-200 transition" 
                                data-product='${JSON.stringify(product)}'>
                            ë‹´ê¸°
                        </button>
                    </div>
                `;
                
                // ì¥ë°”êµ¬ë‹ˆ ë‹´ê¸° ë²„íŠ¼ ì´ë²¤íŠ¸
                card.querySelector('.add-to-cart').addEventListener('click', (e) => {
                    e.stopPropagation();
                    const productData = JSON.parse(e.target.dataset.product);
                    addToSampleCart(productData);
                });
                
                productsList.appendChild(card);
            });

            // ìƒí’ˆ íƒ­ìœ¼ë¡œ ìë™ ì „í™˜
            document.getElementById('productTab').click();
        }

        // ìƒ˜í”Œ ì¥ë°”êµ¬ë‹ˆ ê¸°ëŠ¥
        let sampleCart = [];

        function addToSampleCart(product) {
            const existingItem = sampleCart.find(item => item.name === product.name);
            
            if (existingItem) {
                existingItem.qty += 1;
            } else {
                sampleCart.push({
                    name: product.name,
                    unit_price: product.price,
                    qty: 1
                });
            }
            
            updateSampleCart();
            
            // ì„±ê³µ ë©”ì‹œì§€
            alert(`"${product.name}"ê°€ ì¥ë°”êµ¬ë‹ˆì— ë‹´ê²¼ìŠµë‹ˆë‹¤!`);
        }

        function updateSampleCart() {
            const cartItems = document.getElementById('cartItems');
            const cartCount = document.getElementById('cartCount');
            const subtotalAmount = document.getElementById('subtotalAmount');
            const totalAmount = document.getElementById('totalAmount');
            const checkoutButton = document.getElementById('checkoutButton');

            if (sampleCart.length === 0) {
                cartItems.innerHTML = '<div class="cart-empty p-4 text-center text-gray-500">ì¥ë°”êµ¬ë‹ˆê°€ ë¹„ì–´ìˆìŠµë‹ˆë‹¤.</div>';
                cartCount.textContent = '0';
                subtotalAmount.textContent = '0ì›';
                totalAmount.textContent = '0ì›';
                checkoutButton.classList.add('hidden');
                return;
            }

            cartCount.textContent = sampleCart.length;
            cartItems.innerHTML = '';

            let subtotal = 0;

            sampleCart.forEach((item, index) => {
                const itemTotal = item.unit_price * item.qty;
                subtotal += itemTotal;

                const itemDiv = document.createElement('div');
                itemDiv.className = 'cart-item flex items-center justify-between bg-white rounded p-2 text-sm mb-2';
                itemDiv.innerHTML = `
                    <div class="flex-1 mr-2">
                        <span class="font-medium">${item.name}</span>
                        <div class="text-xs text-gray-500">${item.unit_price.toLocaleString()}ì›</div>
                    </div>
                    <div class="quantity-controls flex items-center">
                        <button class="quantity-btn minus-btn w-6 h-6 border rounded flex items-center justify-center" onclick="updateSampleCartQty(${index}, -1)">-</button>
                        <span class="quantity-display mx-2">${item.qty}</span>
                        <button class="quantity-btn plus-btn w-6 h-6 border rounded flex items-center justify-center" onclick="updateSampleCartQty(${index}, 1)">+</button>
                    </div>
                    <button class="remove-item ml-2 text-red-500 hover:text-red-700" onclick="removeSampleCartItem(${index})">
                        <i class="fas fa-times"></i>
                    </button>
                `;
                cartItems.appendChild(itemDiv);
            });

            subtotalAmount.textContent = subtotal.toLocaleString() + 'ì›';
            totalAmount.textContent = subtotal.toLocaleString() + 'ì›';
            checkoutButton.classList.remove('hidden');
        }

        function updateSampleCartQty(index, change) {
            if (index >= 0 && index < sampleCart.length) {
                sampleCart[index].qty += change;
                if (sampleCart[index].qty <= 0) {
                    sampleCart.splice(index, 1);
                }
                updateSampleCart();
            }
        }

        function removeSampleCartItem(index) {
            if (index >= 0 && index < sampleCart.length) {
                sampleCart.splice(index, 1);
                updateSampleCart();
            }
        }

        // DOM ë¡œë“œ ì™„ë£Œ ì‹œ ì´ˆê¸°í™”
        document.addEventListener('DOMContentLoaded', () => {
            initializeTabs();
            loadSampleData();
            
            // ê²°ì œ ë²„íŠ¼ ì´ë²¤íŠ¸
            document.getElementById('checkoutButton').addEventListener('click', () => {
                if (sampleCart.length > 0) {
                    alert(`ì´ ${sampleCart.length}ê°œ ìƒí’ˆ ê²°ì œë¥¼ ì§„í–‰í•©ë‹ˆë‹¤.`);
                }
            });
        });
    </script>
    
    <!-- ë¡œê·¸ì•„ì›ƒ ê¸°ëŠ¥ -->
    <script>
        
         async function logout() {
            try {
                const token = localStorage.getItem('access_token');
                const headers = {
                'Content-Type': 'application/json'
                };

                if (token) {
                headers['Authorization'] = `Bearer ${token}`;
                }

                const response = await fetch('/auth/logout', {
                method: 'POST',
                headers: headers,
                credentials: 'include'
                });
                if (response.ok) { 
                localStorage.removeItem('access_token');
                localStorage.removeItem('user_info');
                window.location.href = '/'; 
                }
                else { console.error('ë¡œê·¸ì•„ì›ƒ ì‹¤íŒ¨:', response.status, response.statusText); }
            } catch (error) { console.error('ë¡œê·¸ì•„ì›ƒ ì˜¤ë¥˜:', error); }
    }
    </script>
</body>
</html>